import{S as Ve,i as Te,s as Ae,a as I,k as p,c as L,l as _,m as d,h as i,n,J as F,b as H,H as be,I as De,o as Be,q as E,r as k,G as r,K,u as N,L as S,M as j,p as we,N as Se}from"../chunks/index.4c131317.js";import{w as Ne}from"../chunks/index.068f0a8f.js";async function je(){try{return(await(await fetch("https://opentdb.com/api.php?amount=1&type=multiple")).json()).results[0]}catch(s){throw Error("something went wrong:",s)}}function qe(){const s=Ne();async function t(){const o=await je();e(o)}function e(o){s.set(o)}return{...s,loadNextQuestion:t}}const Ie=qe();function ze(){const s=Ne(0);function t(e){console.log("llega",e),s.update(o=>o+=e),console.log(s)}return{addPoints:t,...s}}const Le=ze();function Me(s){let t,e,o,f,c,a,l,u=s[3]?"Next Question":"Try again",h,v,m;function w(y,P){return y[3]?Oe:Qe}let x=w(s),g=x(s);return{c(){t=p("div"),e=p("div"),o=I(),f=p("div"),c=p("div"),g.c(),a=I(),l=p("button"),h=E(u),this.h()},l(y){t=_(y,"DIV",{class:!0});var P=d(t);e=_(P,"DIV",{class:!0}),d(e).forEach(i),o=L(P),f=_(P,"DIV",{class:!0});var A=d(f);c=_(A,"DIV",{class:!0});var V=d(c);g.l(V),a=L(V),l=_(V,"BUTTON",{class:!0});var M=d(l);h=k(M,u),M.forEach(i),V.forEach(i),A.forEach(i),P.forEach(i),this.h()},h(){n(e,"class","modal-overlay fixed w-full h-full bg-gray-900 opacity-50"),n(l,"class","mt-5 p-2 bg-gray-200 hover:bg-gray-300 rounded-full"),n(c,"class","flex flex-col justify-between items-center head bg-gray-100 py-5 px-8 text-2xl font-extrabold"),n(f,"class","bg-white w-full lg:h-max lg:w-1/2 mx-auto rounded-lg shadow-xl z-50 overflow-y-auto"),n(t,"class","modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center p-8 lg:p-0")},m(y,P){H(y,t,P),r(t,e),r(t,o),r(t,f),r(f,c),g.m(c,null),r(c,a),r(c,l),r(l,h),v||(m=K(l,"click",s[9]),v=!0)},p(y,P){x!==(x=w(y))&&(g.d(1),g=x(y),g&&(g.c(),g.m(c,a))),P&8&&u!==(u=y[3]?"Next Question":"Try again")&&N(h,u)},d(y){y&&i(t),g.d(),v=!1,m()}}}function Qe(s){let t,e,o,f,c,a,l,u;return{c(){t=p("div"),e=S("svg"),o=S("path"),f=I(),c=p("div"),a=p("p"),l=E("Wrong."),u=E(`\r
							-1 reward point`),this.h()},l(h){t=_(h,"DIV",{class:!0});var v=d(t);e=j(v,"svg",{style:!0,xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var m=d(e);o=j(m,"path",{d:!0,fill:!0}),d(o).forEach(i),m.forEach(i),f=L(v),c=_(v,"DIV",{class:!0});var w=d(c);a=_(w,"P",{});var x=d(a);l=k(x,"Wrong."),x.forEach(i),u=k(w,`\r
							-1 reward point`),w.forEach(i),v.forEach(i),this.h()},h(){n(o,"d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"),n(o,"fill","red"),we(e,"color","red"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","44"),n(e,"height","44"),n(e,"fill","currentColor"),n(e,"class","bi bi-x-circle-fill"),n(e,"viewBox","0 0 16 16"),n(c,"class","flex flex-col items-center"),n(t,"class","flex flex-col justify-center items-center")},m(h,v){H(h,t,v),r(t,e),r(e,o),r(t,f),r(t,c),r(c,a),r(a,l),r(c,u)},d(h){h&&i(t)}}}function Oe(s){let t,e,o,f,c,a,l,u;return{c(){t=p("div"),e=S("svg"),o=S("defs"),f=S("clipPath"),c=S("path"),a=S("g"),l=S("path"),u=E(`\r
						Correct`),this.h()},l(h){t=_(h,"DIV",{class:!0});var v=d(t);e=j(v,"svg",{style:!0,xmlns:!0,"xmlns:xlink":!0,width:!0,zoomAndPan:!0,viewBox:!0,height:!0,preserveAspectRatio:!0,version:!0});var m=d(e);o=j(m,"defs",{});var w=d(o);f=j(w,"clipPath",{id:!0});var x=d(f);c=j(x,"path",{d:!0,"clip-rule":!0,fill:!0}),d(c).forEach(i),x.forEach(i),w.forEach(i),a=j(m,"g",{"clip-path":!0});var g=d(a);l=j(g,"path",{fill:!0,d:!0,"fill-opacity":!0,"fill-rule":!0}),d(l).forEach(i),g.forEach(i),m.forEach(i),u=k(v,`\r
						Correct`),v.forEach(i),this.h()},h(){n(c,"d","M 2.328125 4.222656 L 27.734375 4.222656 L 27.734375 24.542969 L 2.328125 24.542969 Z M 2.328125 4.222656 "),n(c,"clip-rule","nonzero"),n(c,"fill","#37ff00"),n(f,"id","id1"),n(l,"fill","#37ff00"),n(l,"d","M 27.5 7.53125 L 24.464844 4.542969 C 24.15625 4.238281 23.65625 4.238281 23.347656 4.542969 L 11.035156 16.667969 L 6.824219 12.523438 C 6.527344 12.230469 6 12.230469 5.703125 12.523438 L 2.640625 15.539062 C 2.332031 15.84375 2.332031 16.335938 2.640625 16.640625 L 10.445312 24.324219 C 10.59375 24.472656 10.796875 24.554688 11.007812 24.554688 C 11.214844 24.554688 11.417969 24.472656 11.566406 24.324219 L 27.5 8.632812 C 27.648438 8.488281 27.734375 8.289062 27.734375 8.082031 C 27.734375 7.875 27.648438 7.679688 27.5 7.53125 Z M 27.5 7.53125 "),n(l,"fill-opacity","1"),n(l,"fill-rule","nonzero"),n(a,"clip-path","url(#id1)"),we(e,"display","inline"),we(e,"color","rgb(55, 255, 0)"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),n(e,"width","44"),n(e,"zoomAndPan","magnify"),n(e,"viewBox","0 0 30 30.000001"),n(e,"height","44"),n(e,"preserveAspectRatio","xMidYMid meet"),n(e,"version","1.0"),n(t,"class","flex flex-col justify-center items-center")},m(h,v){H(h,t,v),r(t,e),r(e,o),r(o,f),r(f,c),r(e,a),r(a,l),r(t,u)},d(h){h&&i(t)}}}function Ue(s){let t,e;return{c(){t=p("h1"),e=E("Loading..."),this.h()},l(o){t=_(o,"H1",{class:!0});var f=d(t);e=k(f,"Loading..."),f.forEach(i),this.h()},h(){n(t,"class","text-4xl font-bold mb-4")},m(o,f){H(o,t,f),r(t,e)},p:be,d(o){o&&i(t)}}}function Re(s){let t,e,o,f=s[4].question+"",c,a,l,u,h=s[4].category+"",v,m,w,x,g,y,P=s[4].difficulty.charAt(0).toUpperCase()+s[4].difficulty.slice(1)+"",A,V,M,T,C,W=s[1][0]+"",Y,ae,q,Z=s[1][1]+"",X,ie,B,z,G=s[1][2]+"",$,ce,Q,J=s[1][3]+"",ee,ue,O,fe,te,de,U,he,le,pe,ye;return{c(){t=p("div"),e=p("div"),o=p("h1"),c=E(f),a=I(),l=p("p"),u=E("Category: "),v=E(h),m=I(),w=p("br"),x=I(),g=p("b"),y=E("Difficulty: "),A=E(P),V=I(),M=p("div"),T=p("div"),C=p("button"),Y=E(W),ae=I(),q=p("button"),X=E(Z),ie=I(),B=p("div"),z=p("button"),$=E(G),ce=I(),Q=p("button"),ee=E(J),ue=I(),O=p("p"),fe=E("Points in play this round: "),te=E(s[5]),de=I(),U=p("h1"),he=E("Points Earned: "),le=E(s[6]),this.h()},l(D){t=_(D,"DIV",{class:!0});var b=d(t);e=_(b,"DIV",{});var se=d(e);o=_(se,"H1",{class:!0});var Ee=d(o);c=k(Ee,f),Ee.forEach(i),a=L(se),l=_(se,"P",{class:!0});var R=d(l);u=k(R,"Category: "),v=k(R,h),m=L(R),w=_(R,"BR",{}),x=L(R),g=_(R,"B",{});var _e=d(g);y=k(_e,"Difficulty: "),A=k(_e,P),_e.forEach(i),R.forEach(i),se.forEach(i),V=L(b),M=_(b,"DIV",{class:!0});var re=d(M);T=_(re,"DIV",{class:!0});var oe=d(T);C=_(oe,"BUTTON",{class:!0});var ke=d(C);Y=k(ke,W),ke.forEach(i),ae=L(oe),q=_(oe,"BUTTON",{class:!0});var xe=d(q);X=k(xe,Z),xe.forEach(i),oe.forEach(i),ie=L(re),B=_(re,"DIV",{class:!0});var ne=d(B);z=_(ne,"BUTTON",{class:!0});var Pe=d(z);$=k(Pe,G),Pe.forEach(i),ce=L(ne),Q=_(ne,"BUTTON",{class:!0});var Ce=d(Q);ee=k(Ce,J),Ce.forEach(i),ne.forEach(i),re.forEach(i),ue=L(b),O=_(b,"P",{class:!0});var ve=d(O);fe=k(ve,"Points in play this round: "),te=k(ve,s[5]),ve.forEach(i),de=L(b),U=_(b,"H1",{class:!0});var ge=d(U);he=k(ge,"Points Earned: "),le=k(ge,s[6]),ge.forEach(i),b.forEach(i),this.h()},h(){n(o,"class","text-4xl font-bold mb-4"),n(l,"class","text-lg"),n(C,"class","h-10 w-52 m-2 bg-blue-500 text-white rounded-full hover:bg-gray-900"),n(q,"class","h-10 w-52 m-2 bg-red-500 text-white rounded-full hover:bg-gray-900"),n(T,"class","flex w-full justify-around"),n(z,"class","h-10 w-52 m-2 bg-green-500 text-white rounded-full hover:bg-gray-900"),n(Q,"class","h-10 w-52 m-2 bg-yellow-500 text-white rounded-full hover:bg-gray-900"),n(B,"class","flex w-full justify-around"),n(M,"class","flex flex-col justify-center items-center border-solid border-2 border-gray-600 rounded-md"),n(O,"class","text-lg"),n(U,"class","text-2xl font-bold mb-4"),n(t,"class","text-center max-w-screen-xl w-screen m-16")},m(D,b){H(D,t,b),r(t,e),r(e,o),r(o,c),r(e,a),r(e,l),r(l,u),r(l,v),r(l,m),r(l,w),r(l,x),r(l,g),r(g,y),r(g,A),r(t,V),r(t,M),r(M,T),r(T,C),r(C,Y),r(T,ae),r(T,q),r(q,X),r(M,ie),r(M,B),r(B,z),r(z,$),r(B,ce),r(B,Q),r(Q,ee),r(t,ue),r(t,O),r(O,fe),r(O,te),r(t,de),r(t,U),r(U,he),r(U,le),pe||(ye=[K(C,"click",s[10]),K(q,"click",s[11]),K(z,"click",s[12]),K(Q,"click",s[13])],pe=!0)},p(D,b){b&16&&f!==(f=D[4].question+"")&&N(c,f),b&16&&h!==(h=D[4].category+"")&&N(v,h),b&16&&P!==(P=D[4].difficulty.charAt(0).toUpperCase()+D[4].difficulty.slice(1)+"")&&N(A,P),b&2&&W!==(W=D[1][0]+"")&&N(Y,W),b&2&&Z!==(Z=D[1][1]+"")&&N(X,Z),b&2&&G!==(G=D[1][2]+"")&&N($,G),b&2&&J!==(J=D[1][3]+"")&&N(ee,J),b&32&&N(te,D[5]),b&64&&N(le,D[6])},d(D){D&&i(t),pe=!1,Se(ye)}}}function He(s){let t,e,o=s[2]&&Me(s);function f(l,u){return l[0]?Re:Ue}let c=f(s),a=c(s);return{c(){o&&o.c(),t=I(),e=p("div"),a.c(),this.h()},l(l){o&&o.l(l),t=L(l),e=_(l,"DIV",{class:!0});var u=d(e);a.l(u),u.forEach(i),this.h()},h(){n(e,"class","flex bg-green-100 items-center justify-center h-screen w-screen"),F(e,"bg-green-100",s[4]&&s[4].difficulty==="easy"),F(e,"bg-yellow-100",s[4]&&s[4].difficulty==="medium"),F(e,"bg-rose-100",s[4]&&s[4].difficulty==="hard")},m(l,u){o&&o.m(l,u),H(l,t,u),H(l,e,u),a.m(e,null)},p(l,[u]){l[2]?o?o.p(l,u):(o=Me(l),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),c===(c=f(l))&&a?a.p(l,u):(a.d(1),a=c(l),a&&(a.c(),a.m(e,null))),u&16&&F(e,"bg-green-100",l[4]&&l[4].difficulty==="easy"),u&16&&F(e,"bg-yellow-100",l[4]&&l[4].difficulty==="medium"),u&16&&F(e,"bg-rose-100",l[4]&&l[4].difficulty==="hard")},i:be,o:be,d(l){o&&o.d(l),l&&i(t),l&&i(e),a.d()}}}function me(s){const e=new DOMParser().parseFromString(s,"text/html").body.textContent;return e||""}function Fe(s){for(let t=s.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[s[t],s[e]]=[s[e],s[t]]}return s}function We(s,t,e){let o,f;De(s,Ie,C=>e(15,o=C)),De(s,Le,C=>e(6,f=C));let c=!1,a,l=!1,u,h,v,m=3;function w(C){e(3,u=C===v),u?Le.addPoints(m):m>0&&e(5,m--,m),e(2,l=!0)}function x(C){e(1,a=[]),v=me(C.correct_answer),a.push(...C.incorrect_answers),a.push(v),e(1,a=a.map(me)),Fe(a)}async function g(){e(2,l=!1),u&&await y()}async function y(){e(5,m=3),e(0,c=!1),await Ie.loadNextQuestion(),e(4,h=o),e(4,h.question=me(h.question),h),x(h),e(0,c=!0)}return Be(async()=>{await y()}),[c,a,l,u,h,m,f,w,g,()=>g(),()=>w(a[0]),()=>w(a[1]),()=>w(a[2]),()=>w(a[3])]}class Je extends Ve{constructor(t){super(),Te(this,t,We,He,Ae,{})}}export{Je as component};
